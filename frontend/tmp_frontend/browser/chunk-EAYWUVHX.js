import{a as H,b as J,d as K,e as Q,f as W,g as X,h as Z}from"./chunk-GP4O2PHC.js";import{a as ie,b as ae}from"./chunk-LRURCSRH.js";import"./chunk-XLROA42A.js";import"./chunk-XAZLOLJU.js";import"./chunk-FDVUP3FE.js";import{a as R,b as s,d as k,e as q,h as N,i as T,j as B,l as L,n as A}from"./chunk-Q6AJDAHM.js";import{a as oe,b as me}from"./chunk-WUV43LHH.js";import"./chunk-R3KMJ2P2.js";import{H as z,I as j,J as G,K as D,L as V,M as Y,O as U,P as $,Q as ee,R as te,S as re,T as ne}from"./chunk-Z6OHTYI4.js";import{k as F,q as I}from"./chunk-NHSNNNXZ.js";import{Bb as u,Cc as E,Nb as n,Ob as f,Ua as o,Ub as y,Va as g,fa as O,ib as d,nb as m,sb as r,tb as e,ub as p,zc as S}from"./chunk-6K4C2J2M.js";function se(i,a){i&1&&(r(0,"mat-error"),n(1,"First name is required"),e())}function de(i,a){i&1&&(r(0,"mat-error"),n(1,"Last name is required"),e())}function pe(i,a){i&1&&(r(0,"mat-error"),n(1," Email is required "),e())}function ce(i,a){i&1&&(r(0,"mat-error"),n(1," Please enter a valid email "),e())}function ge(i,a){i&1&&(r(0,"mat-error"),n(1," Password is required "),e())}function ue(i,a){i&1&&(r(0,"mat-error"),n(1," Password must be at least 6 characters "),e())}function fe(i,a){i&1&&(r(0,"mat-error"),n(1," Please confirm your password "),e())}function _e(i,a){i&1&&(r(0,"mat-error"),n(1," Passwords do not match "),e())}function he(i,a){i&1&&(r(0,"mat-error"),n(1,"City is required"),e())}function Ce(i,a){i&1&&(r(0,"mat-error"),n(1,"Country is required"),e())}function Me(i,a){i&1&&(r(0,"div",22)(1,"mat-icon"),n(2,"person_add"),e(),n(3," Create Account "),e())}function xe(i,a){i&1&&(r(0,"div",22),p(1,"mat-spinner",23),n(2," Creating account... "),e())}var le=class i{constructor(a,l,t,c){this.fb=a;this.authService=l;this.router=t;this.snackBar=c;this.registerForm=this.fb.group({first_name:["",[s.required]],last_name:["",[s.required]],email:["",[s.required,s.email]],password:["",[s.required,s.minLength(6)]],password2:["",[s.required]],city:["",[s.required]],country:["",[s.required]]},{validators:this.passwordMatchValidator})}registerForm;isLoading=!1;hidePassword=!0;hideConfirmPassword=!0;selectedFile=null;imagePreview=null;ngOnInit(){}passwordMatchValidator(a){let l=a.get("password"),t=a.get("confirmPassword");return l&&t&&l.value!==t.value?(t.setErrors({passwordMismatch:!0}),{passwordMismatch:!0}):null}onFileSelected(a){}removeImage(){this.selectedFile=null,this.imagePreview=null}onSubmit(){if(this.registerForm.valid){this.isLoading=!0;let a={first_name:this.registerForm.get("first_name")?.value,last_name:this.registerForm.get("last_name")?.value,email:this.registerForm.get("email")?.value,password:this.registerForm.get("password")?.value,password2:this.registerForm.get("password2")?.value,city:this.registerForm.get("city")?.value,country:this.registerForm.get("country")?.value};this.authService.register(a).subscribe({next:l=>{this.isLoading=!1,this.snackBar.open("Registration successful! Please sign in.","Close",{duration:3e3}),this.router.navigate(["/auth/login"])},error:l=>{this.isLoading=!1,console.error("Registration error:",l);let t=l.error?.error||l.error?.message||l.message||"Registration failed. Please try again.";this.snackBar.open(t,"Close",{duration:5e3})}})}}goToLogin(){this.router.navigate(["/auth/login"])}static \u0275fac=function(l){return new(l||i)(g(L),g(I),g(F),g(ie))};static \u0275cmp=O({type:i,selectors:[["app-register"]],standalone:!0,features:[y],decls:67,vars:18,consts:[[1,"register-container"],[1,"register-card"],[1,"register-form",3,"ngSubmit","formGroup"],[1,"name-row"],["appearance","outline",1,"half-width"],["matInput","","type","text","formControlName","first_name","placeholder","First name"],[4,"ngIf"],["matInput","","type","text","formControlName","last_name","placeholder","Last name"],["appearance","outline",1,"full-width"],["matInput","","type","email","formControlName","email","placeholder","Enter your email"],["matSuffix",""],["matInput","","formControlName","password","placeholder","Create a password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["matInput","","formControlName","password2","placeholder","Confirm your password",3,"type"],[1,"location-row"],["matInput","","type","text","formControlName","city","placeholder","City"],["matInput","","type","text","formControlName","country","placeholder","Country"],[1,"form-actions"],["mat-raised-button","","color","primary","type","submit",1,"full-width","submit-btn",3,"disabled"],["class","button-content",4,"ngIf"],[2,"text-align","center","width","100%"],["mat-button","","color","accent",3,"click"],[1,"button-content"],["diameter","20"]],template:function(l,t){if(l&1&&(r(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),n(4,"Create Account"),e(),r(5,"mat-card-subtitle"),n(6,"Join ANB App \u2014 Asociaci\xF3n Nacional de Baloncesto (ANB)"),e()(),r(7,"mat-card-content")(8,"form",2),u("ngSubmit",function(){return t.onSubmit()}),r(9,"div",3)(10,"mat-form-field",4)(11,"mat-label"),n(12,"First Name"),e(),p(13,"input",5),d(14,se,2,0,"mat-error",6),e(),r(15,"mat-form-field",4)(16,"mat-label"),n(17,"Last Name"),e(),p(18,"input",7),d(19,de,2,0,"mat-error",6),e()(),r(20,"mat-form-field",8)(21,"mat-label"),n(22,"Email"),e(),p(23,"input",9),r(24,"mat-icon",10),n(25,"email"),e(),d(26,pe,2,0,"mat-error",6)(27,ce,2,0,"mat-error",6),e(),r(28,"mat-form-field",8)(29,"mat-label"),n(30,"Password"),e(),p(31,"input",11),r(32,"button",12),u("click",function(){return t.hidePassword=!t.hidePassword}),r(33,"mat-icon"),n(34),e()(),d(35,ge,2,0,"mat-error",6)(36,ue,2,0,"mat-error",6),e(),r(37,"mat-form-field",8)(38,"mat-label"),n(39,"Confirm Password"),e(),p(40,"input",13),r(41,"button",12),u("click",function(){return t.hideConfirmPassword=!t.hideConfirmPassword}),r(42,"mat-icon"),n(43),e()(),d(44,fe,2,0,"mat-error",6)(45,_e,2,0,"mat-error",6),e(),r(46,"div",14)(47,"mat-form-field",4)(48,"mat-label"),n(49,"City"),e(),p(50,"input",15),d(51,he,2,0,"mat-error",6),e(),r(52,"mat-form-field",4)(53,"mat-label"),n(54,"Country"),e(),p(55,"input",16),d(56,Ce,2,0,"mat-error",6),e()(),r(57,"div",17)(58,"button",18),d(59,Me,4,0,"div",19)(60,xe,3,0,"div",19),e()()()(),r(61,"mat-card-actions")(62,"div",20)(63,"p"),n(64,"Already have an account? "),r(65,"button",21),u("click",function(){return t.goToLogin()}),n(66,"Sign In"),e()()()()()()),l&2){let c,_,h,C,M,x,v,b,P,w;o(8),m("formGroup",t.registerForm),o(6),m("ngIf",(c=t.registerForm.get("first_name"))==null?null:c.hasError("required")),o(5),m("ngIf",(_=t.registerForm.get("last_name"))==null?null:_.hasError("required")),o(7),m("ngIf",(h=t.registerForm.get("email"))==null?null:h.hasError("required")),o(),m("ngIf",(C=t.registerForm.get("email"))==null?null:C.hasError("email")),o(4),m("type",t.hidePassword?"password":"text"),o(3),f(t.hidePassword?"visibility_off":"visibility"),o(),m("ngIf",(M=t.registerForm.get("password"))==null?null:M.hasError("required")),o(),m("ngIf",(x=t.registerForm.get("password"))==null?null:x.hasError("minlength")),o(4),m("type",t.hideConfirmPassword?"password":"text"),o(3),f(t.hideConfirmPassword?"visibility_off":"visibility"),o(),m("ngIf",(v=t.registerForm.get("password2"))==null?null:v.hasError("required")),o(),m("ngIf",(b=t.registerForm.get("password2"))==null?null:b.hasError("passwordMismatch")),o(6),m("ngIf",(P=t.registerForm.get("city"))==null?null:P.hasError("required")),o(5),m("ngIf",(w=t.registerForm.get("country"))==null?null:w.hasError("required")),o(2),m("disabled",!t.registerForm.valid||t.isLoading),o(),m("ngIf",!t.isLoading),o(),m("ngIf",t.isLoading)}},dependencies:[E,S,A,N,R,k,q,T,B,U,z,V,G,Y,D,j,W,Q,H,J,K,Z,X,te,$,ee,ne,re,ae,me,oe],styles:[".register-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:20px;background:linear-gradient(135deg,#667eea,#764ba2)}.register-card[_ngcontent-%COMP%]{max-width:480px;width:100%;margin:0 auto;border-radius:12px;box-shadow:0 10px 30px #0003;overflow:hidden}.register-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:24px;text-align:center}.register-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;margin-bottom:8px}.register-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{color:#ffffffe6;font-size:14px}.register-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:24px}.register-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.avatar-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:24px;gap:16px}.avatar-preview[_ngcontent-%COMP%]{position:relative;width:120px;height:120px}.avatar-preview[_ngcontent-%COMP%]   .avatar-image[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover;border:4px solid #667eea;box-shadow:0 4px 12px #00000026}.avatar-preview[_ngcontent-%COMP%]   .remove-image-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-8px;width:32px;height:32px;border-radius:50%;background:#fff;box-shadow:0 2px 8px #0003}.avatar-preview[_ngcontent-%COMP%]   .remove-image-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.avatar-placeholder[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;border:2px dashed #ccc;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#666;background:#f9f9f9}.avatar-placeholder[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:36px;width:36px;height:36px;margin-bottom:8px;color:#999}.avatar-placeholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:12px;font-weight:500}.upload-btn[_ngcontent-%COMP%]{min-width:140px}.upload-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.full-width[_ngcontent-%COMP%]{width:100%}mat-form-field.mat-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-form-field-outline[_ngcontent-%COMP%]{color:#0000001f}mat-form-field.mat-form-field-appearance-outline.mat-focused[_ngcontent-%COMP%]   .mat-form-field-outline-thick[_ngcontent-%COMP%]{color:#667eea}mat-form-field.mat-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{color:#0009}mat-form-field.mat-form-field-appearance-outline.mat-focused[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{color:#667eea}mat-form-field[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{font-size:14px}mat-form-field[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#0000008a}.form-actions[_ngcontent-%COMP%]{margin-top:24px}.submit-btn[_ngcontent-%COMP%]{height:48px;font-size:16px;font-weight:500;border-radius:8px;background:linear-gradient(135deg,#667eea,#764ba2);box-shadow:0 4px 12px #667eea66}.submit-btn[_ngcontent-%COMP%]:hover:not([disabled]){box-shadow:0 6px 16px #667eea80;transform:translateY(-1px)}.submit-btn[disabled][_ngcontent-%COMP%]{background:#ccc;color:#00000061;box-shadow:none;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.submit-btn[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin-right:8px}mat-card-actions[_ngcontent-%COMP%]{padding:16px 24px;background:#f8f9fa;border-top:1px solid rgba(0,0,0,.12)}mat-card-actions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#000000b3;font-size:14px}mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-weight:500;text-transform:uppercase}mat-error[_ngcontent-%COMP%]{font-size:12px;margin-top:4px}@media (max-width: 600px){.register-container[_ngcontent-%COMP%]{padding:16px}.register-card[_ngcontent-%COMP%]{max-width:100%}.register-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:20px 16px}.register-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:20px 16px}.avatar-preview[_ngcontent-%COMP%], .avatar-placeholder[_ngcontent-%COMP%]{width:100px;height:100px}.avatar-preview[_ngcontent-%COMP%]   .avatar-image[_ngcontent-%COMP%]{border-width:3px}}.register-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUp .3s ease-out}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.submit-btn[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]     circle{stroke:#fff}"]})};export{le as RegisterComponent};
