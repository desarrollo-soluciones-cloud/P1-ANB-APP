import './polyfills.server.mjs';
import{a as j,b as z,d as V,e as H,f as U,g as J,h as K}from"./chunk-75H3SLRO.mjs";import{a as $,b as tt}from"./chunk-HYQOU3QT.mjs";import"./chunk-TYMQHLLZ.mjs";import"./chunk-IUWV6RLK.mjs";import{a as P,b as p,d as w,e as E,h as F,i as I,j as k,l as B,n as O}from"./chunk-AMN4MQJH.mjs";import"./chunk-SKJ2GK2Z.mjs";import{H as T,I as N,J as A,K as q,L as D,M as G,O as R,P as Q,Q as W,R as X,S as Y,T as Z}from"./chunk-RSL3PVUE.mjs";import{b as L}from"./chunk-6EVWJBAA.mjs";import{q as y}from"./chunk-2QCJARLM.mjs";import"./chunk-J4BDXTMW.mjs";import{Gc as b,Jc as x,Lb as n,Mb as C,Nb as v,Sa as r,Sb as S,Ta as d,ba as M,gb as c,lb as m,qb as t,rb as i,sb as g,zb as u}from"./chunk-ENQYR2OO.mjs";import"./chunk-5XUXGTUW.mjs";function it(o,a){o&1&&(t(0,"mat-error"),n(1," Email is required "),i())}function nt(o,a){o&1&&(t(0,"mat-error"),n(1," Please enter a valid email address "),i())}function ot(o,a){o&1&&(t(0,"mat-error"),n(1," Password is required "),i())}function rt(o,a){o&1&&(t(0,"mat-error"),n(1," Password must be at least 6 characters "),i())}function at(o,a){o&1&&(t(0,"mat-icon"),n(1,"refresh"),i())}var et=class o{constructor(a,l,e,s){this.fb=a;this.authService=l;this.router=e;this.snackBar=s;this.loginForm=this.fb.group({email:["",[p.required,p.email]],password:["",[p.required,p.minLength(6)]]})}loginForm;isLoading=!1;hidePassword=!0;onSubmit(){this.loginForm.valid&&(this.isLoading=!0,this.authService.login(this.loginForm.value).subscribe({next:a=>{this.isLoading=!1,this.authService.getToken()?(this.snackBar.open("Login successful!","Close",{duration:3e3}),this.router.navigate(["/dashboard/videos"])):this.snackBar.open("Login failed","Close",{duration:3e3})},error:a=>{this.isLoading=!1,this.snackBar.open("Login failed. Please try again.","Close",{duration:3e3}),console.error("Login error:",a)}}))}goToRegister(){this.router.navigate(["/auth/register"])}static \u0275fac=function(l){return new(l||o)(d(B),d(L),d(y),d($))};static \u0275cmp=M({type:o,selectors:[["app-login"]],standalone:!0,features:[S],decls:36,vars:10,consts:[[1,"login-container"],[1,"login-card"],[1,"login-form",3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","type","email","formControlName","email","placeholder","Enter your email"],["matSuffix",""],[4,"ngIf"],["matInput","","formControlName","password","placeholder","Enter your password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],[1,"form-actions"],["mat-raised-button","","color","primary","type","submit",1,"full-width",3,"disabled"],[2,"text-align","center","width","100%"],["mat-button","","color","accent",3,"click"]],template:function(l,e){if(l&1&&(t(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),n(4,"ANB App - Login"),i(),t(5,"mat-card-subtitle"),n(6,"Sign in to your account"),i()(),t(7,"mat-card-content")(8,"form",2),u("ngSubmit",function(){return e.onSubmit()}),t(9,"mat-form-field",3)(10,"mat-label"),n(11,"Email"),i(),g(12,"input",4),t(13,"mat-icon",5),n(14,"email"),i(),c(15,it,2,0,"mat-error",6)(16,nt,2,0,"mat-error",6),i(),t(17,"mat-form-field",3)(18,"mat-label"),n(19,"Password"),i(),g(20,"input",7),t(21,"button",8),u("click",function(){return e.hidePassword=!e.hidePassword}),t(22,"mat-icon"),n(23),i()(),c(24,ot,2,0,"mat-error",6)(25,rt,2,0,"mat-error",6),i(),t(26,"div",9)(27,"button",10),c(28,at,2,0,"mat-icon",6),n(29),i()()()(),t(30,"mat-card-actions")(31,"div",11)(32,"p"),n(33,"Don't have an account? "),t(34,"button",12),u("click",function(){return e.goToRegister()}),n(35,"Sign Up"),i()()()()()()),l&2){let s,f,_,h;r(8),m("formGroup",e.loginForm),r(7),m("ngIf",(s=e.loginForm.get("email"))==null?null:s.hasError("required")),r(),m("ngIf",(f=e.loginForm.get("email"))==null?null:f.hasError("email")),r(4),m("type",e.hidePassword?"password":"text"),r(3),C(e.hidePassword?"visibility_off":"visibility"),r(),m("ngIf",(_=e.loginForm.get("password"))==null?null:_.hasError("required")),r(),m("ngIf",(h=e.loginForm.get("password"))==null?null:h.hasError("minlength")),r(2),m("disabled",!e.loginForm.valid||e.isLoading),r(),m("ngIf",e.isLoading),r(),v(" ",e.isLoading?"Signing in...":"Sign In"," ")}},dependencies:[x,b,O,F,P,w,E,I,k,R,T,D,A,G,q,N,U,H,j,z,V,K,J,X,Q,W,Z,Y,tt],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:20px}.login-card[_ngcontent-%COMP%]{max-width:400px;width:100%;box-shadow:0 8px 32px #0000001a;border-radius:16px}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;margin-top:16px}.full-width[_ngcontent-%COMP%]{width:100%}.form-actions[_ngcontent-%COMP%]{margin-top:16px}mat-card-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:16px}mat-card-title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#333}mat-card-subtitle[_ngcontent-%COMP%]{color:#666;font-size:14px}mat-card-actions[_ngcontent-%COMP%]{padding:16px}mat-card-actions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;font-size:14px}mat-icon.loading[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};export{et as LoginComponent};
